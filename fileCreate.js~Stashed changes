const fs = require('fs');

let obj = [];

fs.exists('500Record.json', function (exists) {

    if (exists) {
        console.log("yes file exists");

        fs.readFile('500Record.json', function readFileCallback(err, data) {

            if (err) {
                console.log(err);
            } else {
                // obj = JSON.parse(data);

                for (i = 0; i < 10; i++) {
                    obj.push({
                        "uccRequestId": `ZXX!XXX001${i}`,
                        "uccTmId": "888",
                        "uccTmName": "Zerodha",
                        "uccPanExempt": "false",
                        "uccPanNo": "1",
                        "uccCountry": "India",
                        "uccMobileNo": "9877114806",
                        "uccEmailId": "mailto:abc@getnada.com",
                        "uccMobileNoModified": "false",
                        "uccEmailIdModified": "false",
                        "uccDpId": "",
                        "uccClientId": "",
                        "uccInvestorCode": "18293",
                        "uccRequestType": "NEW",
                        "uccNodeStatus": "01",
                        "uccEmailStatus": "NOT VERIFIED",
                        "uccMobileStatus": "NOT VERIFIED",
                        "uccPanStatus": "VERIFIED",
                        "exchangeId": "98w37498w3r"
                    });
                }

                let json = JSON.stringify(obj);
                fs.writeFile('500Record.json', data = json, () => { });
            }
        });
    } else {

        console.log("file not exists");

        for (i = 0; i < 10; i++) {
            obj.push({
                "uccRequestId": `ZXX!XXX001${i}`,
                "uccTmId": "888",
                "uccTmName": "Zerodha",
                "uccPanExempt": "false",
                "uccPanNo": "1",
                "uccCountry": "India",
                "uccMobileNo": "9877114806",
                "uccEmailId": "mailto:abc@getnada.com",
                "uccMobileNoModified": "false",
                "uccEmailIdModified": "false",
                "uccDpId": "",
                "uccClientId": "",
                "uccInvestorCode": "18293",
                "uccRequestType": "NEW",
                "uccNodeStatus": "01",
                "uccEmailStatus": "NOT VERIFIED",
                "uccMobileStatus": "NOT VERIFIED",
                "uccPanStatus": "VERIFIED",
                "exchangeId": "98w37498w3r"
            });
        }

        let json = JSON.stringify(obj);
        fs.writeFile('500Record.json', json);
    }
});